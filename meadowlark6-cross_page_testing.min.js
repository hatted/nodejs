var express=require("express"),app=express();app.set("port",process.env.PORT||3e3);var handlebars=require("express-handlebars").create({defaultLayout:"main"});app.engine("handlebars",handlebars.engine),app.set("view engine","handlebars"),app.use(express["static"](__dirname+"/public")),app.use(function(e,r,t){r.locals.showTests="production"!==app.get("env")&&"1"===e.query.test,t()});var fortunes=["line 1","sentence b","row c","d"];app.get("/",function(e,r){r.render("home")}),app.get("/about",function(e,r){var t=fortunes[Math.floor(Math.random()*fortunes.length)];r.render("about",{fortune:t,pageTestScript:"/qa/tests-about.js"})}),app.get("/tours/hood-river",function(e,r){r.render("tours/hood-river")}),app.get("/tours/request-group-rate",function(e,r){r.render("tours/request-group-rate")}),app.use(function(e,r){r.status(404),r.render("404")}),app.use(function(e,r){console.error(err.stack),r.status(500),r.render("500")}),app.listen(app.get("port"),function(){console.log("express started on http://localhost:"+app.get("port"))});